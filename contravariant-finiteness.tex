\section{Contravariantly finite subcategories}\label{sec:contravariantly_finite}

%Results are generalized in \cite{Trl01}

In this section we will study the structure of contravariantly finite resolving subcategories. One example of a resolving subcategory is the subcategory of modules with finite projective dimension, which we denote by $\mathcal P^\infty$. In \cref{thm:contravariantly_finite_resolving_is_Xi_filtered} we give a description of the structure of a contravariantly finite resolving subcategory from the approximations of the simple modules. As a corollary we get that an algebra has finite finitistic dimension when $\mathcal P^\infty$ is contravariantly finite. \cref{exam:not_contravariantly_finite}, discovered by Igusa--Smalø--Todorov, shows that $\mathcal P^\infty$ can fail to be contravariantly finite even for monomial algebras with radical cubed equal to 0.

It is known that $\mathcal P^\infty$ is contravariantly finite when the algebra is stably equivalent to a hereditary algebra. This was shown by Auslander--Reiten in their original paper \cite{AR91}. We consider a generalization of this class in \cref{sec:stable_hereditary_algebras} through the perspective of the Igusa--Todorov-function.

Throughout this section we, as usual, assume $\Lambda$ is a finite dimensional algebra, though it should be noted that all the results still hold if we instead let $\Lambda$ be an artin algebra.

\begin{defn}[Resolving]
	A full subcategory of an abelian category is called \emph{resolving} if 
	\begin{enumerate}[i)]
		\item It is closed under extensions.
		\item It contains the projectives.
		\item It contains the kernel of any epimorphism between two of its objects.
	\end{enumerate}
\end{defn}

Note that $\mathcal P^\infty$ is a resolving subcategory.

In the next few propositions we will consider a resolving subcategory $\mathcal X$, and its $\Ext$-orthogonal complement
\begin{align*}
	\mathcal Y := \ker \Ext^{\geq 1}(\mathcal X, -) = \{Y \in \mathcal C \mid \Ext^i(X, Y)=0, \forall X \in \mathcal X, \forall i \geq 1\},
\end{align*}
which we now show is equal to 
\begin{align*}
\ker \Ext^1(\mathcal X, -) = \{Y \in \mathcal C \mid \Ext^1(X, Y)=0, \forall X \in \mathcal X\}.
\end{align*}

\begin{lemma}\label{lem:resolving_ext_vanish}
	Let $\mathcal X$ be a resolving subcategory. Then $\Ext^1(\mathcal X, Y) = 0$ implies that $\Ext^i(\mathcal X, Y)=0$ for all $i \geq 1$.
	\begin{proof}
		Since $\mathcal X$ contains the projectives, $\Omega X$ is the kernel of an epimorphism between objects in $\mathcal X$. Thus $\mathcal X$ contains all syzygies, and we have $\Ext^i(X, Y) = \Ext^1(\Omega^{i-1}X, Y) = 0$.
	\end{proof}
\end{lemma}

\begin{prop}\label{prop:complement_closed_under_extension}
	Let $\mathcal X$ be a full subcategory. Then the $\Ext$-orthogonal complement $\mathcal Y := \ker\Ext^{i}(\mathcal X, -)$ is closed under extensions.
	\begin{proof}
		Let $0 \to Y \to E \to Y' \to 0$ be an extension of objects in $\mathcal Y$, and let $X$ be an object of $\mathcal X$. Then we get an exact sequence  
		\begin{center}
			\begin{tikzcd}
			0=\Ext^i(X, Y) \ar[r] & \Ext^i(X, E) \ar[r] & \Ext^i(X, Y')=0
			\end{tikzcd}
		\end{center}
		Thus $\Ext^i(X, E)=0$, and so $E$ is in $\mathcal Y$.
	\end{proof}
\end{prop}

\begin{lemma} \label{lem:exact_sequence_from_approximation}
	Let $\mathcal X$ be a contravariantly finite, resolving subcategory of $\mod \Lambda$. Then for every object $C \in \mod\Lambda$ there is a short exact sequence 
	$$0 \to Y \to X \to C \to 0$$ 
	with $X\to C$ minimal $\mathcal X$-approximation and $\Ext^i(\mathcal X, Y)=0$ for all $i \geq 1$.
	\begin{proof}
		Since $\mathcal X$ is contravariantly finite, $C$ has a minimal $\mathcal X$-approximation $X \to C$. Since $\mathcal X$ contains the projective cover of $C$ this approximation must be an epimorphism. So it is part of a short exact sequence $$0 \to Y \to X \to C \to 0.$$ Let $X'$ be an arbitrary object in $\mathcal X$. Taking the long exact sequence in $\Ext(X', -)$ gives us
		\begin{center}
		\begin{tikzcd}
			\Hom(X', Y) \ar[r]&\Hom(X', X) \ar[r] & \Hom(X', C) \ar[dll, overlay, out=-15, in=165] \\ \Ext^1(X', Y) \ar[r] & \Ext(X', X)^1 \ar[r] & \Ext^1(X', C)
		\end{tikzcd}
		\end{center}
		Since $X \to C$ is an approximation, we know that $\Hom(X', X) \to \Hom(X', C)$ is epi. Thus if we can prove that $\Ext^1(X', X) \to \Ext^1(X', C)$ is mono we would have that $\Ext^1(X', Y)=0$. 
		
		Assume we have an element of $\Ext^1(X', X)$ that is mapped to 0, i.e. we have a commutative diagram
		\begin{center}
			\begin{tikzcd}
			0 \ar[r] & X \ar[r] \ar[d] & E \ar[r] \ar[d] & X' \ar[d, equal] \ar[r] & 0\\
			0 \ar[r] & C \ar[r] & C \oplus X' \ar[r] & X' \ar[r] & 0.
			\end{tikzcd}
		\end{center}
		Since $\mathcal X$ is closed under extensions $E$ is in $\mathcal X$. By composing with projection $C\oplus X' \to C$ we get a commutative triangle
		\begin{center}
			\begin{tikzcd}
			 X \ar[r] \ar[d] & E \ar[dl]\\ 
			 C 
			\end{tikzcd}
		\end{center}
		Since $X \to C$ is an approximation we get that $E \to C$ factors through $X$. The endomorphism $X \to E \to X$ leaves the approximation unchanged, so by minimality it must be an isomorphism. Hence 
		\begin{center}
			\begin{tikzcd}
				0 \ar[r] & X \ar[r] & E \ar[r] & X' \ar[r] & 0
			\end{tikzcd}
		\end{center}
		is split and $\Ext^1(X', X) \to \Ext^1(X', C)$ is injective. Thus we have that $\Ext^1(X', Y)=0$, and by \cref{lem:resolving_ext_vanish} we get $\Ext^i(X', Y)=0$ for all $i\geq 1$.
	\end{proof}
\end{lemma}

We now prove the main theorem of this section, about the structure of approximations for a resolving subcategory.

\begin{theorem} \cite[3.8]{AR91} \label{thm:contravariantly_finite_resolving_is_Xi_filtered}
	Let $\mathcal X$ be a contravariantly finite, resolving subcategory of $\mod \Lambda$. Let $X_i$ be the minimal approximation of $S_i$. Then any $X \in \mathcal X$ is a direct summand of an $X_i$-filtered module.
	\begin{proof}
		The first part of the proof is to show by induction on length that any module $C$ is in an exact sequence $0 \to Y \to X \to C \to 0$ with $X$ $X_i$-filtered and $\Ext^1(\mathcal X, Y)=0$.
		
		For the base case if $C=S_i$ is simple, then by \cref{lem:exact_sequence_from_approximation} we have an exact sequence $0 \to Y \to X_i \to C \to 0$ with the desired properties stated above. 
		
		For the induction step, assume it holds for all modules of length less than $n$, and let $C$ be a module of length $n$. Then by Jordan-Hölder $C$ is the extension of two modules of length less than $n$. Say
		\begin{center}
			\begin{tikzcd}
			0 \ar[r] & C' \ar[r] & C \ar[r] & C'' \ar[r] & 0.
			\end{tikzcd}
		\end{center}
		Applying the induction hypothesis we get a diagram on the form
		\begin{center}
			\begin{tikzcd}
			& 0 \ar[d] &&0 \ar[d] &\\
			& Y' \ar[d] && Y'' \ar[d] & \\
			 & X' \ar[d] && X'' \ar[d] & \\
			0 \ar[r] & C' \ar[d] \ar[r] & C \ar[r] & C'' \ar[r] \ar[d] & 0\\
			& 0 &&0 &
			\end{tikzcd}
		\end{center}
		Taking the pullback of $X'' \to C''$ we get a diagram
		\begin{center}
			\begin{tikzcd}
			0 \ar[r] & C' \ar[r] \ar[d, equal] & E \ar[r] \ar[d] & X'' \ar[r] \ar[d] & 0\\
			0 \ar[r] & C' \ar[r] \ar[d] & C \ar[r] \ar[d] & C'' \ar[r] \ar[d] & 0\\
			&0&0&0&
			\end{tikzcd}
		\end{center}
		Since $Y'$ satisfies $\Ext^1(\mathcal X, Y') = 0$ by \cref{lem:resolving_ext_vanish} we have $\Ext^2(\mathcal X, Y')=0$. In particular from the long exact sequence
		\begin{center}
			\begin{tikzcd}[column sep=10pt]
				 0=\Ext^1(X'', Y) \ar[r] & \Ext^1(X'', X') \ar[r] & \Ext^1(X'', C) \ar[r] & \Ext^2(X'', Y)=0
			\end{tikzcd}
		\end{center}
		 we get that $X' \to C'$ induces an isomorphism $\Ext^1(X'', X') \to \Ext^1(X'', C)$. Thus the short exact sequence $0 \to C' \to E \to X'' \to 0$  must come from a sequence $0 \to X' \to X \to X'' \to 0$. This gives us a diagram
		\begin{center}
			\begin{tikzcd}
			& 0 \ar[d] &&0 \ar[d] &\\
			 & Y' \ar[d] && Y'' \ar[d] & \\
			0 \ar[r] & X' \ar[d] \ar[r] & X \ar[r] \ar[d] & X'' \ar[d] \ar[r] & 0\\
			0 \ar[r] & C' \ar[d] \ar[r] & C \ar[r] & C'' \ar[r] \ar[d] & 0\\
			& 0 &&0 &
			\end{tikzcd}
		\end{center}
		Applying the Snake Lemma we can fill out the diagram:
		\begin{center}
			\begin{tikzcd}
			& 0 \ar[d] & 0\ar[d] &0 \ar[d] &\\
			0 \ar[r] & Y' \ar[d] \ar[r] & Y \ar[r] \ar[d] & Y'' \ar[d] \ar[r] & 0\\
			0 \ar[r] & X' \ar[d] \ar[r] & X \ar[r] \ar[d] & X'' \ar[d] \ar[r] & 0\\
			0 \ar[r] & C' \ar[d] \ar[r] & C \ar[r] \ar[d] & C'' \ar[r] \ar[d] & 0\\
			& 0 &0&0 &
			\end{tikzcd}
		\end{center}
		Since $X$ is an extension of $X_i$-filtered modules, it is also $X_i$-filtered. Since $Y$ is the extension of $Y''$ and $Y'$ it follows from \cref{prop:complement_closed_under_extension} that $\Ext^1(\mathcal X, Y)=0$.
		
		Hence any $C$ fits into a sequence $0 \to Y \to X \to C \to 0$ with $X$ being $X_i$-filtered and $\Ext^{1}(\mathcal X, Y)=0$.
		
		Now suppose that $C$ is in $\mathcal X$, and let $0 \to Y \to X \to C \to 0$ be as before. Then we get that
		\begin{center}
		\begin{tikzcd}
		\Hom(C, X) \ar[r] & \Hom(C, C) \ar[r] & \Ext^1(C,Y) = 0
		\end{tikzcd}
		\end{center}
		is exact, and thus $C$ is a direct summand of $X$. So every object in $\mathcal X$ is a direct summand of an $X_i$-filtered module.
	\end{proof}
\end{theorem}

Applying this to $\mathcal P^\infty$ we get our wanted result about the finitistic dimension.

\begin{cor}\label{cor:contravariant_finite_implies_FDC}
	If $\mathcal P^\infty$ is contravariantly finite, then the finitistic dimension is the supremum of the projective dimension of the approximations of the simple modules. In particular it is finite.
\end{cor}

To finish this section of we give two examples. The first example is due to Igusa--Smalø--Todorov, which shows that $\mathcal P^\infty$ need not be contravariantly finite even for monomial algebras with $J^3 = 0$.

\begin{example}\cite[Proposition~2.3]{IST90}\label{exam:not_contravariantly_finite}
	Let $\Lambda$ be the path algebra of 
	\begin{center}
	\begin{tikzcd}[column sep = 50pt]
		1 \ar[r, "\alpha", bend left=45] \ar[r, "\beta"] & 2 \ar[l, "\gamma", bend left = 45]
	\end{tikzcd}
	\end{center}
	with relations $\alpha \gamma$, $\beta\gamma$, and $\gamma\alpha$ over an algebraically closed field $k$. Then $\findim(\Lambda) = 1$, but $\mathcal P^\infty$ is not contravariantly finite.
	
	\begin{proof}
		The indecomposable projective $\Lambda$-modules are given by the following quivers
		\begin{center}
			\begin{tikzcd}[column sep=7pt]
				&1 \ar[dl, swap, "\alpha"] \ar[dr, "\beta"]&\\
				2&&2 \ar[d, "\gamma"]\\
				&&1
			\end{tikzcd}
			\hspace{2cm}
			\begin{tikzcd}
				2\ar[d, "\gamma"]\\
				1
			\end{tikzcd}
		\end{center}
		Note that both the indecomposable projectives have even dimension, so any projective module has even dimension. Then if $X$ is a module with finite projective dimension, since $\dim X = \sum (-1)^i \dim P_X^i$ the dimension of $X$ is also even. In particular the two simple modules have infinite projective dimension.
		
		The radical of $P_1$ is $P_2\oplus S_2$ and the radical of $P_2$ is $S_1$, so the radical of an arbitrary projective looks like $P_2^n \oplus S_1^m \oplus S_2^n$. Let $P \to X$ be the projective cover of a module with finite projective dimension. Then $\Omega X$ is a submodule of $JP = P_2^n \oplus S_1^m \oplus S_2^n$. Let $M$ be an indecomposable summand of $\Omega X$, and consider the composition $M \to JP \to P_2$ for any possible projection to $P_2$. If this is epi then we must have $M = P_2$. If none of these are epi then $M$ is contained in $JP_2^n \oplus S_1^m \oplus S_2^n = S_1^{m+n} \oplus S_2^n$. This would mean $M=S_1$ or $M=S_2$, but $S_1$ and $S_2$ both have infinite projective dimension. Thus we must have $\Omega X$ projective, and so $\pd X \leq 1$.
		
		Next we want to show that $S_1$ has no minimal approximation by modules with finite projective dimension. Assume for the sake of contradiction that $X \to S_1$ is such a minimal approximation. Then we claim that $P_2$ is not a submodule of $X$. If $X$ had $P_2$ as a submodule, then since $\Hom(P_2, S_1) = 0$ the approximation would factor through $X'=X/P_2$. From the short exact sequence $0 \to P_2 \to X \to X' \to 0$ it follows that 
		$$\pd X' \leq \max\{\pd P_2 + 1, \pd X\} < \infty,$$ 
		and so $X'$ would give an approximation of shorter length, contradicting the minimality of $X$.
		
		% because $X'$ would also have finite projective dimension. Which can be seen in the diagram below.
		% \begin{center}
		% \begin{tikzcd}
		% 	&& 0 \ar[d] & 0 \ar[d] &\\
		% 	0\ar[r]& P^1_X \ar[d, equal]\ar[r] & P^1_X \oplus P_1 \arrow[dr, phantom, "\usebox\pullback" , very near start, color=black] \ar[d]\ar[r] & P_1\ar[d]\ar[r] & 0\\
		% 	0 \ar[r] & P^1_X \ar[r] & P^0_X \ar[d]\ar[r] & X\ar[d]\ar[r] & 0\\
		% 	&& X' \ar[d]\ar[r, equal] & X' \ar[d] \\
		% 	&&0&0
		% \end{tikzcd}
		% \end{center}

		This means that $\gamma X = 0$, because if there was an element $x \in X$ with $\gamma x \neq 0$, then $(e_2 x)$ would be a submodule of $X$ isomorphic to $P_2$. So $X$ is a $\Lambda/(\gamma)$ module. 
		
		The algebra $\Lambda/(\gamma)$ is the path algebra of the 2-Kronecker quiver, whose representation theory is well understood (c.f. \cite[Chapter~VIII.7]{ARS97} or \cite[Chapter~3.2]{Ring84}). Specifically $\Lambda/(\gamma)$ can be associated with the subquiver highlighted below. 
		\begin{center}
			\begin{tikzcd}[column sep = 50pt]
			1 \ar[r, "\alpha", bend left=45] \ar[r, "\beta"] & 2 \ar[l, opacity=0.3, "\gamma", bend left = 45]
			\end{tikzcd}
		\end{center}
		The indecomposable modules are as given in the table below.
		
		\begin{center}
		\begin{tabular}{ccc}
			\begin{tikzcd}[ampersand replacement=\&, column sep = 45pt]
			k^n \ar[bend left=35, r, "\begin{bmatrix}
			I_n\\ 0
			\end{bmatrix}"pos=0.55] \ar[swap, r, "\begin{bmatrix}
			0\\I_n
			\end{bmatrix}"]\& k^{n+1}
			\end{tikzcd}
			&
			\begin{tikzcd}[ampersand replacement=\&, column sep = 45pt, row sep=40pt]
			k^n \ar[bend left=35]{r}{J(n, \lambda)} \ar[swap, bend right=0]{r}{I_n} \& k^{n}\\
			k^n \ar[bend left=35]{r}{I_n} \ar[swap, bend right=0]{r}{J(n, 0)} \& k^{n}\\
			\end{tikzcd}
			&
			\begin{tikzcd}[ampersand replacement=\&, column sep = 45pt]
			k^{n+1} \ar[bend left=35, pos=0.45]{r}{\begin{bmatrix}
				I_n & 0
				\end{bmatrix}} \ar[swap, bend right=0]{r}{\begin{bmatrix}
				0 & I_n
				\end{bmatrix}} \& k^{n}
			\end{tikzcd}
			\\
			preprojective & regular & preinjective
		\end{tabular}
		\end{center}
		
	We see that the preprojective and preinjective modules both have odd dimension, so they will have infinite projective dimension as $\Lambda$-modules. We can easily verify that the $\Lambda/(\gamma)$-modules 
	\begin{tikzcd}
	k \ar[bend left=25]{r}{\lambda} \ar[swap, bend right=0]{r}{1} & k\\
	\end{tikzcd}
	all have finite projective dimension as $\Lambda$-modules and that they have a nonzero map onto $S_1$. So each of these modules would need to have a nonzero map to $X$. But it is easy to verify that there is a nonzero homomorphism between the regular modules only if they have the same value of $\lambda$. So for it to be possible for $X$ to factorize all these maps we would need $X$ to have infinitely many direct summands. Since we are working with finitely generated modules this is impossible, hence $S_1$ has no approximation, and the subcategory is not contravariantly finite.
	\end{proof}
\end{example}

In the next example we look at the opposite algebra of $\Lambda$, for which $\mathcal P^\infty$ is contravariantly finite for $\Gamma$. This shows that there is no immediate relationship between $\mathcal P^\infty$ being contravariantly finite for $\Lambda$ and for $\Lambda^{\op}$.

\begin{example}\label{exam:contravariantly_finite_dual}
	Let $\Gamma$ be the opposite algebra of the one in \cref{exam:not_contravariantly_finite}. That is, $\Gamma$ is the path algebra of 
	\begin{center}
		\begin{tikzcd}[column sep = 50pt]
		2 \ar[r, "\hat{\alpha}", bend left=45] \ar[r, "\hat{\beta}"] & 1 \ar[l, "\hat{\gamma}", bend left = 45]
		\end{tikzcd}
	\end{center}
	with relations $\hat{\gamma}\hat{\alpha}$, $\hat{\gamma}\hat{\beta}$, and $\hat{\alpha}\hat{\gamma}$. Then $\mathcal P^\infty$ is contravariantly finite. In other words the subcategory of $\Lambda$-modules with finite injective dimension is covariantly finite.
	\begin{proof}
		The indecomposable projective $\Gamma$-modules are given by the following quivers 
		\begin{center}
			\begin{tikzcd}
				1 \ar[d, "\hat{\gamma}"]\\2 \ar[d, "\hat{\beta}"]\\1
			\end{tikzcd}
			\hspace{2cm}
			\begin{tikzcd}[column sep=7pt]
				&2 \ar[dl, swap, "\hat{\alpha}"] \ar[dr, "\hat{\beta}"]&\\
				1&&1
			\end{tikzcd}
		\end{center}
		
		Similar to before, notice that the indecomposable projective modules are 3-dimensional and thus every module with finite projective dimension will have dimension a multiple of 3. So in particular the simple modules have infinite projective dimension. 
		
		Let $X$ be a module with finite projective dimension, and let $P$ be its projective cover. We have that $\Omega X$ is a submodule of $JP$. Notice that $\hat{\alpha} J = \hat{\gamma} J = 0$, so $\Omega X$ is a $\Gamma/(\hat{\alpha}, \hat{\gamma})$-module. But $\Gamma/(\hat{\alpha}, \hat{\gamma})$ is simply isomorphic to the path algebra of  
		\begin{tikzcd}
			2 \ar[r] & 1
		\end{tikzcd},
		over which there are just 3 indecomposable modules. We already know that the simple modules cannot be summands of $\Omega X$, because they have infinite projective dimension. The non-simple module
		\begin{tikzcd}
		k \ar[r, "1"] & k
		\end{tikzcd}
		is 2-dimensional and thus also has infinite projective dimension over $\Gamma$. So we conclude that $\Omega X = 0$, so $X$ is projective.
		
		So the only modules with finite projective dimension are the projectives themselves. In particular there are only a finite number of indecomposable modules with finite projective dimension. So the subcategory is contravariantly finite. 
	\end{proof}
\end{example}
